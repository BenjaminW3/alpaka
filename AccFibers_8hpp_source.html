<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9"/>
<title>alpaka: C:/dev/alpaka/include/alpaka/fibers/AccFibers.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">alpaka
   </div>
   <div id="projectbrief">Abstraction Library for Parallel Kernel Acceleration</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('AccFibers_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">AccFibers.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AccFibers_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* \file</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">* Copyright 2014-2015 Benjamin Worpitz</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* This file is part of alpaka.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* alpaka is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">* the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* alpaka is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">* GNU Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* along with alpaka.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// Base classes.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AccFibersFwd_8hpp.html">alpaka/fibers/AccFibersFwd.hpp</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2WorkDiv_8hpp.html">alpaka/fibers/WorkDiv.hpp</a>&gt;</span>                <span class="comment">// WorkDivFibers</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Idx_8hpp.html">alpaka/fibers/Idx.hpp</a>&gt;</span>                    <span class="comment">// IdxFibers</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Atomic_8hpp.html">alpaka/fibers/Atomic.hpp</a>&gt;</span>                 <span class="comment">// AtomicFibers</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Barrier_8hpp.html">alpaka/fibers/Barrier.hpp</a>&gt;</span>                <span class="comment">// BarrierFibers</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// User functionality.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="host_2Mem_8hpp.html">alpaka/host/Mem.hpp</a>&gt;</span>                      <span class="comment">// Copy</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Stream_8hpp.html">alpaka/fibers/Stream.hpp</a>&gt;</span>                 <span class="comment">// StreamFibers</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Event_8hpp.html">alpaka/fibers/Event.hpp</a>&gt;</span>                  <span class="comment">// EventFibers</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Device_8hpp.html">alpaka/fibers/Device.hpp</a>&gt;</span>                 <span class="comment">// Devices</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Specialized traits.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KernelExecCreator_8hpp.html">alpaka/core/KernelExecCreator.hpp</a>&gt;</span>        <span class="comment">// KernelExecCreator</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// Implementation details.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="fibers_2Common_8hpp.html">alpaka/fibers/Common.hpp</a>&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="BlockSharedExternMemSizeBytes_8hpp.html">alpaka/traits/BlockSharedExternMemSizeBytes.hpp</a>&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="IAcc_8hpp.html">alpaka/interfaces/IAcc.hpp</a>&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ConcurrentExecPool_8hpp.html">alpaka/core/ConcurrentExecPool.hpp</a>&gt;</span>       <span class="comment">// ConcurrentExecPool</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WorkDivHelpers_8hpp.html">alpaka/core/WorkDivHelpers.hpp</a>&gt;</span>           <span class="comment">// isValidWorkDiv</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;boost/mpl/apply.hpp&gt;</span>                      <span class="comment">// boost::mpl::apply</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;boost/predef.h&gt;</span>                           <span class="comment">// workarounds</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span>                                  <span class="comment">// assert</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span>                                <span class="comment">// std::except</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacealpaka.html">alpaka</a></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="namespacealpaka_1_1fibers.html">   55</a></span>&#160;    <span class="keyword">namespace </span>fibers</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    {</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="namespacealpaka_1_1fibers_1_1detail.html">   57</a></span>&#160;        <span class="keyword">namespace </span>detail</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keyword">typename</span> TAcceleratedKernel&gt;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">   61</a></span>&#160;            <span class="keyword">class </span><a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">KernelExecutorFibers</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">            //! The fibers accelerator.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">            //!</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">            //! This accelerator allows parallel kernel execution on the host.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">            //! It uses boost::fibers to implement the cooperative parallelism.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">            //! By using fibers the shared memory can reside in the closest memory/cache available.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">            //! Furthermore there is no false sharing between neighboring threads as it is the case in real multi-threading. </span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span>            <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">   71</a></span>&#160;            <span class="keyword">class </span><a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a> :</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="keyword">protected</span> <a class="code" href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">WorkDivFibers</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="keyword">protected</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1IdxFibers.html">IdxFibers</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="keyword">protected</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AtomicFibers.html">AtomicFibers</a></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keyword">public</span>:</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ad3b0a25514ec631cc9e886dee7b11ec9">   77</a></span>&#160;                <span class="keyword">using</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ad3b0a25514ec631cc9e886dee7b11ec9">MemSpace</a> = mem::SpaceHost;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    <span class="keyword">typename</span> TAcceleratedKernel&gt;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a733355a6b0426e8291a0af85e9e56f80">   81</a></span>&#160;                <span class="keyword">friend</span> class ::alpaka::fibers::detail::KernelExecutorFibers;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="comment">//private:    // TODO: Make private and only constructible from friend KernelExecutor. Not possible due to IAcc?</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keyword">public</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">                //! Constructor.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    <span class="keyword">typename</span> TWorkDiv&gt;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a40667445e424611a09eaebaf044f8748">   90</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a40667445e424611a09eaebaf044f8748">AccFibers</a>(</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                    TWorkDiv <span class="keyword">const</span> &amp; workDiv) :</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                        <a class="code" href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">WorkDivFibers</a>(workDiv),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                        <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1IdxFibers.html">IdxFibers</a>(m_mFibersToIndices, m_v3uiGridBlockIdx),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AtomicFibers.html">AtomicFibers</a>(),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        m_v3uiGridBlockIdx(0u),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        m_uiNumThreadsPerBlock(workdiv::<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae44d0e4f80991685699647449a1d3970">getWorkDiv</a>&lt;Block, Threads, dim::<a class="code" href="namespacealpaka_1_1dim.html#adfe56c20847b0ca61e47408cbaec071a">Dim1</a>&gt;(workDiv)[0u])</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                {}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keyword">public</span>:</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">                //! Copy constructor.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a40667445e424611a09eaebaf044f8748">AccFibers</a>(<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#if (!BOOST_COMP_MSVC) || (BOOST_COMP_MSVC &gt;= BOOST_VERSION_NUMBER(14, 0, 0))</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">                //! Move constructor.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a40667445e424611a09eaebaf044f8748">AccFibers</a>(<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a> &amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">                //! Copy assignment.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a> &amp; <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a7caef98db8af0bbf906743d7c22b90f7">operator=</a>(<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">                //! Destructor.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <span class="keyword">virtual</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#aee370e3ea05acdfb76dc3bfc71ab2e6b">~AccFibers</a>() noexcept = default;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            protected:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">                //! \return The requested indices.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                template&lt;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    typename TOrigin, </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    typename TUnit, </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    typename TDim = dim::<a class="code" href="namespacealpaka_1_1dim.html#a34c4249188d81e31aff3e6bb8f1238bd">Dim3</a>&gt;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a1cc2a29c50f1048cc6906c6341d39722">  127</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="namespacealpaka.html#a6d800c7a55753e7a74482d8c3c7c2afc">DimToVecT</a>&lt;TDim&gt; <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a1cc2a29c50f1048cc6906c6341d39722">getIdx</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="keywordflow">return</span> idx::getIdx&lt;TOrigin, TUnit, TDim&gt;(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                        *<span class="keyword">static_cast&lt;</span><a class="code" href="classalpaka_1_1fibers_1_1detail_1_1IdxFibers.html">IdxFibers</a> <span class="keyword">const </span>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                        *static_cast&lt;WorkDivFibers const *&gt;(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">                //! \return The requested extents.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keyword">typename</span> TOrigin,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    <span class="keyword">typename</span> TUnit,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    <span class="keyword">typename</span> TDim = <a class="code" href="namespacealpaka_1_1dim.html#a34c4249188d81e31aff3e6bb8f1238bd">dim::Dim3</a>&gt;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae44d0e4f80991685699647449a1d3970">  141</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <a class="code" href="namespacealpaka.html#a6d800c7a55753e7a74482d8c3c7c2afc">DimToVecT&lt;TDim&gt;</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae44d0e4f80991685699647449a1d3970">getWorkDiv</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    <span class="keywordflow">return</span> workdiv::getWorkDiv&lt;TOrigin, TUnit, TDim&gt;(</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        *<span class="keyword">static_cast&lt;</span><a class="code" href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">WorkDivFibers</a> <span class="keyword">const </span>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">                //! Execute the atomic operation on the given address with the given value.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">                //! \return The old value before executing the atomic operation.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    <span class="keyword">typename</span> TOp,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    <span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae6c40b6a85d7ec93a3a85849a17e4096">  154</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#a5f7933db4117e5cf67c10b559b645656">ALPAKA_FCT_ACC</a> T <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae6c40b6a85d7ec93a3a85849a17e4096">atomicOp</a>(</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    T * <span class="keyword">const</span> addr,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    T <span class="keyword">const</span> &amp; value)<span class="keyword"> const</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">return</span> atomic::atomicOp&lt;TOp, T&gt;(</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        addr,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        value,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        *<span class="keyword">static_cast&lt;</span><a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AtomicFibers.html">AtomicFibers</a> <span class="keyword">const </span>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">                //! Syncs all threads in the current block.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">  167</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <span class="keywordtype">void</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">syncBlockThreads</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    <span class="keyword">auto</span> <span class="keyword">const</span> idFiber(boost::this_fiber::get_id());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="keyword">auto</span> <span class="keyword">const</span> itFind(m_mFibersToBarrier.find(idFiber));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">syncBlockThreads</a>(itFind);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keyword">private</span>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">                //! Syncs all threads in the current block.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <span class="keywordtype">void</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">syncBlockThreads</a>(</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    std::map&lt;boost::fibers::fiber::id, UInt&gt;::iterator <span class="keyword">const</span> &amp; itFind)<span class="keyword"> const</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    assert(itFind != m_mFibersToBarrier.end());</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <span class="keyword">auto</span> &amp; uiBarrierIdx(itFind-&gt;second);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    std::size_t <span class="keyword">const</span> uiModBarrierIdx(uiBarrierIdx % 2);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keyword">auto</span> &amp; bar(m_abarSyncFibers[uiModBarrierIdx]);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="comment">// (Re)initialize a barrier if this is the first fiber to reach it.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keywordflow">if</span>(bar.getNumFibersToWaitFor() == 0)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <span class="comment">// No DCLP required because there can not be an interruption in between the check and the reset.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        bar.reset(m_uiNumThreadsPerBlock);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="comment">// Wait for the barrier.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    bar.wait();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    ++uiBarrierIdx;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">                //! \return Allocates block shared memory.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <span class="keyword">typename</span> T, </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> TuiNumElements&gt;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#af4701ae6b41afbb838771646e694cd94">  208</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> T * <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#af4701ae6b41afbb838771646e694cd94">allocBlockSharedMem</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    static_assert(TuiNumElements &gt; 0, <span class="stringliteral">&quot;The number of elements to allocate in block shared memory must not be zero!&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="comment">// Assure that all fibers have executed the return of the last allocBlockSharedMem function (if there was one before).</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">syncBlockThreads</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <span class="comment">// Arbitrary decision: The fiber that was created first has to allocate the memory.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span>(m_idMasterFiber == boost::this_fiber::get_id())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <span class="comment">// \TODO: C++14 std::make_unique would be better.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        m_vvuiSharedMem.emplace_back(</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                            std::unique_ptr&lt;uint8_t[]&gt;(</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                reinterpret_cast&lt;uint8_t*&gt;(<span class="keyword">new</span> T[TuiNumElements])));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">syncBlockThreads</a>();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(m_vvuiSharedMem.back().get());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">                //! \return The pointer to the externally allocated block shared memory.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a785c69bbf9b6cc1748f484b86cc6a1cc">  233</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> T * <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a785c69bbf9b6cc1748f484b86cc6a1cc">getBlockSharedExternMem</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(m_vuiExternalSharedMem.get());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#ifdef ALPAKA_NVCC_FRIEND_ACCESS_BUG</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keyword">private</span>:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="comment">// getXxxIdx</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <a class="code" href="namespacealpaka_1_1fibers_1_1detail.html#a34efaef74ae6d9e809ad04bf317e5658">FiberIdToIdxMap</a> <span class="keyword">mutable</span> m_mFibersToIndices;                 <span class="comment">//!&lt; The mapping of fibers id&#39;s to fibers indices.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span>                <a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> <span class="keyword">mutable</span> m_v3uiGridBlockIdx;                         <span class="comment">//!&lt; The index of the currently executed block.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="comment">// syncBlockThreads</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> <span class="keyword">const</span> m_uiNumThreadsPerBlock;                            <span class="comment">//!&lt; The number of threads per block the barrier has to wait for.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"></span>                std::map&lt;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    boost::fibers::fiber::id,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a>&gt; <span class="keyword">mutable</span> m_mFibersToBarrier;                       <span class="comment">//!&lt; The mapping of fibers id&#39;s to their current barrier.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span>                <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1FiberBarrier.html">FiberBarrier</a> <span class="keyword">mutable</span> m_abarSyncFibers[2];                   <span class="comment">//!&lt; The barriers for the synchronization of fibers. </span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span><span class="comment">                //!&lt; We have the keep to current and the last barrier because one of the fibers can reach the next barrier before another fiber was wakeup from the last one and has checked if it can run.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="comment">// allocBlockSharedMem</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                boost::fibers::fiber::id <span class="keyword">mutable</span> m_idMasterFiber;           <span class="comment">//!&lt; The id of the master fiber.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span>                std::vector&lt;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    std::unique_ptr&lt;uint8_t[]&gt;&gt; <span class="keyword">mutable</span> m_vvuiSharedMem;    <span class="comment">//!&lt; Block shared memory.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="comment">// getBlockSharedExternMem</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                std::unique_ptr&lt;uint8_t[]&gt; <span class="keyword">mutable</span> m_vuiExternalSharedMem;  <span class="comment">//!&lt; External block shared memory.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span>            };</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">            //! The type given to the ConcurrentExecPool for yielding the current fiber.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"></span>            <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html">  267</a></span>&#160;            <span class="keyword">struct </span><a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html">FiberPoolYield</a></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">                //! Yields the current fiber.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html#a5b02d7aee4b9038dea37e15dcd785afc">  272</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html#a5b02d7aee4b9038dea37e15dcd785afc">yield</a>()</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    boost::this_fiber::yield();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            };</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">            //! The type given to the ConcurrentExecPool for returning the current exception.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span>            <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html">  280</a></span>&#160;            <span class="keyword">struct </span><a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html">FiberPoolCurrentException</a></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">                //! \return The current exception.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html#a48b3b0572b1dab5472c867ea8b3a0961">  285</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a> <span class="keyword">static</span> <span class="keyword">auto</span> <a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html#a48b3b0572b1dab5472c867ea8b3a0961">current_exception</a>()</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                -&gt; std::result_of&lt;decltype(&amp;boost::current_exception)()&gt;::type</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="keywordflow">return</span> boost::current_exception();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            };</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">            //! The fibers accelerator executor.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span>            <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="keyword">typename</span> TAcceleratedKernel&gt;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keyword">class </span>KernelExecutorFibers :</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keyword">private</span> <a class="code" href="classalpaka_1_1IAcc.html">IAcc</a>&lt;AccFibers&gt;,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keyword">private</span> TAcceleratedKernel</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keyword">public</span>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">                //! Constructor.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <span class="keyword">typename</span> TWorkDiv, </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keyword">typename</span>... TKernelConstrArgs&gt;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acbb168d000d902ee5a6f8d6740b0a67a">  308</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acbb168d000d902ee5a6f8d6740b0a67a">KernelExecutorFibers</a>(</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    TWorkDiv <span class="keyword">const</span> &amp; workDiv, </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1StreamFibers.html">StreamFibers</a> <span class="keyword">const</span> &amp;,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    TKernelConstrArgs &amp;&amp; ... args):</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="classalpaka_1_1IAcc.html">IAcc</a>&lt;<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a>&gt;(workDiv),</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        TAcceleratedKernel(<a class="code" href="namespacestd.html">std</a>::forward&lt;TKernelConstrArgs&gt;(args)...),</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        m_vFuturesInBlock()</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    <a class="code" href="Debug_8hpp.html#ac556c317f934c69c8c8c083c5068f681">ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">                //! Copy constructor.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#ab899fb7f3073ab6ebff74ed427bcf5c8">  321</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#ab899fb7f3073ab6ebff74ed427bcf5c8">KernelExecutorFibers</a>(</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">KernelExecutorFibers</a> <span class="keyword">const</span> &amp; other):</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <a class="code" href="classalpaka_1_1IAcc.html">IAcc</a>&lt;<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a>&gt;(*static_cast&lt;<a class="code" href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">WorkDivFibers</a> *&gt;(&amp;other)),</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        TAcceleratedKernel(other),</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                        m_vFuturesInBlock()</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <a class="code" href="Debug_8hpp.html#ac556c317f934c69c8c8c083c5068f681">ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#if (!BOOST_COMP_MSVC) || (BOOST_COMP_MSVC &gt;= BOOST_VERSION_NUMBER(14, 0, 0))</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">                //! Move constructor.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acb9e139699855d4077851dd2fc659ebc">  333</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acb9e139699855d4077851dd2fc659ebc">KernelExecutorFibers</a>(</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">KernelExecutorFibers</a> &amp;&amp; other) :</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                        <a class="code" href="classalpaka_1_1IAcc.html">IAcc</a>&lt;<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a>&gt;(*static_cast&lt;<a class="code" href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">WorkDivFibers</a> *&gt;(&amp;other)),</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        TAcceleratedKernel(<a class="code" href="namespacestd.html">std</a>::move(other))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    <a class="code" href="Debug_8hpp.html#ac556c317f934c69c8c8c083c5068f681">ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">                //! Copy assignment.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">KernelExecutorFibers</a> &amp; <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#a5532c3510819ff0c4a2d7de6dd46d5bd">operator=</a>(<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">KernelExecutorFibers</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">                //! Destructor.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#if BOOST_COMP_INTEL</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <span class="keyword">virtual</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#abbbe1b067d0882dd3eb9865a9be2a94d">~KernelExecutorFibers</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <span class="keyword">virtual</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#abbbe1b067d0882dd3eb9865a9be2a94d">~KernelExecutorFibers</a>() noexcept = default;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">                //! Executes the accelerated kernel.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    <span class="keyword">typename</span>... TArgs&gt;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#a5504613e33df6a9e1b0b6070c1775aed">  359</a></span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <span class="keywordtype">void</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#a5504613e33df6a9e1b0b6070c1775aed">operator()</a>(</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    TArgs &amp;&amp; ... args)<span class="keyword"> const</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    <a class="code" href="Debug_8hpp.html#ac556c317f934c69c8c8c083c5068f681">ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> <span class="keyword">const</span> v3uiGridBlockExtents(this-&gt;AccFibers::getWorkDiv&lt;Grid, Blocks, dim::Dim3&gt;());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    <a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> <span class="keyword">const</span> v3uiBlockThreadExtents(this-&gt;AccFibers::getWorkDiv&lt;Block, Threads, dim::Dim3&gt;());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <span class="keyword">auto</span> <span class="keyword">const</span> uiBlockSharedExternMemSizeBytes(<a class="code" href="structalpaka_1_1BlockSharedExternMemSizeBytes.html">BlockSharedExternMemSizeBytes&lt;TAcceleratedKernel&gt;::getBlockSharedExternMemSizeBytes</a>(v3uiBlockThreadExtents, std::forward&lt;TArgs&gt;(args)...));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    this-&gt;AccFibers::m_vuiExternalSharedMem.reset(</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <span class="keyword">new</span> uint8_t[uiBlockSharedExternMemSizeBytes]);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="keyword">auto</span> <span class="keyword">const</span> uiNumThreadsInBlock(this-&gt;AccFibers::getWorkDiv&lt;Block, Threads, dim::Dim1&gt;());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="comment">// Yielding is not faster for fibers. Therefore we use condition variables. </span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    <span class="comment">// It is better to wake them up when the conditions are fulfilled because this does not cost as much as for real threads.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <span class="keyword">using</span> FiberPool = <a class="code" href="classalpaka_1_1detail_1_1ConcurrentExecPool.html">alpaka::detail::ConcurrentExecPool</a>&lt;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        boost::fibers::fiber,               <span class="comment">// The concurrent execution type.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        boost::fibers::promise,             <span class="comment">// The promise type.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html">FiberPoolCurrentException</a>,          <span class="comment">// The type returning the current exception.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        <a class="code" href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html">FiberPoolYield</a>,                     <span class="comment">// The type yielding the current concurrent execution.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        boost::fibers::mutex,               <span class="comment">// The mutex type to use. Only required if TbYield is true.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        boost::unique_lock,                 <span class="comment">// The unique lock type to use. Only required if TbYield is true.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        boost::fibers::condition_variable,  <span class="comment">// The condition variable type to use. Only required if TbYield is true.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        <span class="keyword">false</span>&gt;;                             <span class="comment">// If the threads should yield.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    FiberPool pool(uiNumThreadsInBlock[0], uiNumThreadsInBlock[0]);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="comment">// Execute the blocks serially.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> bz(0); bz&lt;v3uiGridBlockExtents[2]; ++bz)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                        this-&gt;AccFibers::m_v3uiGridBlockIdx[2] = bz;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                        <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> by(0); by&lt;v3uiGridBlockExtents[1]; ++by)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                            this-&gt;AccFibers::m_v3uiGridBlockIdx[1] = by;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                            <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> bx(0); bx&lt;v3uiGridBlockExtents[0]; ++bx)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                            {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                this-&gt;AccFibers::m_v3uiGridBlockIdx[0] = bx;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                <span class="comment">// Execute the block thread in parallel using cooperative multi-threading.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                <a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> v3uiBlockThreadIdx(0u);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> tz(0); tz&lt;v3uiBlockThreadExtents[2]; ++tz)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                    v3uiBlockThreadIdx[2] = tz;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                    <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> ty(0); ty&lt;v3uiBlockThreadExtents[1]; ++ty)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                    {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                        v3uiBlockThreadIdx[1] = ty;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                        <span class="keywordflow">for</span>(<a class="code" href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">UInt</a> tx(0); tx&lt;v3uiBlockThreadExtents[0]; ++tx)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                        {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                            v3uiBlockThreadIdx[0] = tx;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                            <span class="comment">// The v3uiBlockThreadIdx is required to be copied in from the environment because if the fiber is immediately suspended the variable is already changed for the next iteration/thread.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#if BOOST_COMP_GNUC // GCC &lt; 4.9.0 can not compile variadic templates inside lambdas correctly if the variadic argument is not in the parameter list.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                            <span class="keyword">auto</span> fiberKernelFct(</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                                [<span class="keyword">this</span>](<a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> <span class="keyword">const</span> v3uiBlockThreadIdx, TArgs ... args)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                                {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                                    fiberKernel&lt;TArgs...&gt;(v3uiBlockThreadIdx, std::forward&lt;TArgs&gt;(args)...); </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                                });</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                            m_vFuturesInBlock.emplace_back(pool.enqueueTask(fiberKernelFct, v3uiBlockThreadIdx, args...));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                            <span class="keyword">auto</span> fiberKernelFct = </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                                [&amp;, v3uiBlockThreadIdx]()</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                                {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                                    fiberKernel&lt;TArgs...&gt;(v3uiBlockThreadIdx, std::forward&lt;TArgs&gt;(args)...); </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                                };</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                            m_vFuturesInBlock.emplace_back(pool.enqueueTask(fiberKernelFct));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                <span class="comment">// Join all the threads.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                std::for_each(m_vFuturesInBlock.begin(), m_vFuturesInBlock.end(),</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                    [](boost::fibers::future&lt;void&gt; &amp; t)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                    {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                        t.wait();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                <span class="comment">// Clean up.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                m_vFuturesInBlock.clear();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                this-&gt;AccFibers::m_mFibersToIndices.clear();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                this-&gt;AccFibers::m_mFibersToBarrier.clear();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                <span class="comment">// After a block has been processed, the shared memory can be deleted.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                this-&gt;AccFibers::m_vvuiSharedMem.clear();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                            }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    <span class="comment">// After all blocks have been processed, the external shared memory can be deleted.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    this-&gt;AccFibers::m_vuiExternalSharedMem.reset();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keyword">private</span>:</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">                //! The fiber entry point.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"></span>                <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    <span class="keyword">typename</span>... TArgs&gt;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <span class="keywordtype">void</span> fiberKernel(</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <a class="code" href="classalpaka_1_1Vec.html">Vec&lt;3u&gt;</a> <span class="keyword">const</span> &amp; v3uiBlockThreadIdx, </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    TArgs &amp;&amp; ... args)<span class="keyword"> const</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <span class="comment">// We have to store the fiber data before the kernel is calling any of the methods of this class depending on them.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keyword">auto</span> <span class="keyword">const</span> idFiber(boost::this_fiber::get_id());</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    <span class="comment">// Set the master thread id.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    <span class="keywordflow">if</span>(v3uiBlockThreadIdx[0] == 0 &amp;&amp; v3uiBlockThreadIdx[1] == 0 &amp;&amp; v3uiBlockThreadIdx[2] == 0)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        this-&gt;AccFibers::m_idMasterFiber = idFiber;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="comment">// We can not use the default syncBlockThreads here because it searches inside m_mFibersToBarrier for the thread id. </span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    <span class="comment">// Concurrently searching while others use emplace is unsafe!</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    std::map&lt;boost::fibers::fiber::id, UInt&gt;::iterator itFiberToBarrier;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="comment">// Save the fiber id, and index.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    this-&gt;AccFibers::m_mFibersToIndices.emplace(idFiber, v3uiBlockThreadIdx);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    itFiberToBarrier = this-&gt;AccFibers::m_mFibersToBarrier.emplace(idFiber, 0).first;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="comment">// Sync all threads so that the maps with thread id&#39;s are complete and not changed after here.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    this-&gt;<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">AccFibers::syncBlockThreads</a>(itFiberToBarrier);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    <span class="comment">// Execute the kernel itself.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    this-&gt;TAcceleratedKernel::operator()(</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        (*<span class="keyword">static_cast&lt;</span><a class="code" href="classalpaka_1_1IAcc.html">IAcc&lt;AccFibers&gt;</a> <span class="keyword">const </span>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)),</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        std::forward&lt;TArgs&gt;(args)...);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    <span class="comment">// We have to sync all fibers here because if a fiber would finish before all fibers have been started, the new fiber could get a recycled (then duplicate) fiber id!</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    this-&gt;<a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">AccFibers::syncBlockThreads</a>(itFiberToBarrier);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keyword">private</span>:</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                std::vector&lt;boost::fibers::future&lt;void&gt;&gt; <span class="keyword">mutable</span> m_vFuturesInBlock; <span class="comment">//!&lt; The futures of the fibers in the current block.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span>            };</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">namespace </span>traits</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keyword">namespace </span>acc</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">            //! The fibers accelerator kernel executor accelerator type trait specialization.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"></span>            <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keyword">typename</span> AcceleratedKernel&gt;</div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structalpaka_1_1traits_1_1acc_1_1AccType_3_01fibers_1_1detail_1_1KernelExecutorFibers_3_01AcceleratedKernel_01_4_01_4.html">  503</a></span>&#160;            <span class="keyword">struct </span><a class="code" href="structalpaka_1_1traits_1_1acc_1_1AccType.html">AccType</a>&lt;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                fibers::detail::KernelExecutorFibers&lt;AcceleratedKernel&gt;&gt;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            {</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="structalpaka_1_1traits_1_1acc_1_1AccType_3_01fibers_1_1detail_1_1KernelExecutorFibers_3_01AcceleratedKernel_01_4_01_4.html#a2c1a9f4145eb8cf625d8575e18968bbe">  506</a></span>&#160;                <span class="keyword">using</span> <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">type</a> = <a class="code" href="namespacealpaka.html#a09da965ad97ef097cff3372fe8b259c1">AccFibers</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            };</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keyword">namespace </span>detail</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">//#############################################################################</span><span class="comment"></span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">        //! The fibers accelerator kernel executor builder.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"></span>        <span class="comment">//#############################################################################</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="keyword">typename</span> TKernel, </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keyword">typename</span>... TKernelConstrArgs&gt;</div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html">  519</a></span>&#160;        <span class="keyword">class </span><a class="code" href="classalpaka_1_1detail_1_1KernelExecCreator.html">KernelExecCreator</a>&lt;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <a class="code" href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">AccFibers</a>, </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            TKernel, </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            TKernelConstrArgs...&gt;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#a20f03fbdc29e6da85426601c42c60c03">  525</a></span>&#160;            <span class="keyword">using</span> <a class="code" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#a20f03fbdc29e6da85426601c42c60c03">AcceleratedKernel</a> = <span class="keyword">typename</span> boost::mpl::apply&lt;TKernel, AccFibers&gt;::type;</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#a690208658a7d0da051e98e83b963a3da">  526</a></span>&#160;            <span class="keyword">using</span> <a class="code" href="classalpaka_1_1detail_1_1KernelExecutorExtent.html">AcceleratedKernelExecutorExtent</a> = <a class="code" href="classalpaka_1_1detail_1_1KernelExecutorExtent.html">KernelExecutorExtent&lt;fibers::detail::KernelExecutorFibers&lt;AcceleratedKernel&gt;</a>, TKernelConstrArgs...&gt;;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="comment">//-----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">            //! Creates an kernel executor for the serial accelerator.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"></span>            <span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#af9d361cc79a8ae8375a658411d2386dc">  531</a></span>&#160;            <a class="code" href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a> <a class="code" href="classalpaka_1_1detail_1_1KernelExecutorExtent.html">AcceleratedKernelExecutorExtent</a> <a class="code" href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#af9d361cc79a8ae8375a658411d2386dc">operator()</a>(</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                TKernelConstrArgs &amp;&amp; ... args)<span class="keyword"> const</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="keyword">            </span>{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classalpaka_1_1detail_1_1KernelExecutorExtent.html">AcceleratedKernelExecutorExtent</a>(std::forward&lt;TKernelConstrArgs&gt;(args)...);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        };</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_ad3b0a25514ec631cc9e886dee7b11ec9"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ad3b0a25514ec631cc9e886dee7b11ec9">alpaka::fibers::detail::AccFibers::MemSpace</a></div><div class="ttdeci">mem::SpaceHost MemSpace</div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00077">AccFibers.hpp:77</a></div></div>
<div class="ttc" id="fibers_2Device_8hpp_html"><div class="ttname"><a href="fibers_2Device_8hpp.html">Device.hpp</a></div></div>
<div class="ttc" id="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException_html_a48b3b0572b1dab5472c867ea8b3a0961"><div class="ttname"><a href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html#a48b3b0572b1dab5472c867ea8b3a0961">alpaka::fibers::detail::FiberPoolCurrentException::current_exception</a></div><div class="ttdeci">static ALPAKA_FCT_ACC_NO_CUDA auto current_exception() -&gt; std::result_of&lt; decltype(&amp;boost::current_exception)()&gt;::type</div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00285">AccFibers.hpp:285</a></div></div>
<div class="ttc" id="Debug_8hpp_html_ac556c317f934c69c8c8c083c5068f681"><div class="ttname"><a href="Debug_8hpp.html#ac556c317f934c69c8c8c083c5068f681">ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</a></div><div class="ttdeci">#define ALPAKA_DEBUG_MINIMAL_LOG_SCOPE</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8hpp_source.html#l00114">Debug.hpp:114</a></div></div>
<div class="ttc" id="classalpaka_1_1detail_1_1ConcurrentExecPool_html"><div class="ttname"><a href="classalpaka_1_1detail_1_1ConcurrentExecPool.html">alpaka::detail::ConcurrentExecPool</a></div><div class="ttdoc">ConcurrentExecPool using yield. </div><div class="ttdef"><b>Definition:</b> <a href="ConcurrentExecPool_8hpp_source.html#l00210">ConcurrentExecPool.hpp:210</a></div></div>
<div class="ttc" id="fibers_2Barrier_8hpp_html"><div class="ttname"><a href="fibers_2Barrier_8hpp.html">Barrier.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_af4701ae6b41afbb838771646e694cd94"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#af4701ae6b41afbb838771646e694cd94">alpaka::fibers::detail::AccFibers::allocBlockSharedMem</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA T * allocBlockSharedMem() const </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00208">AccFibers.hpp:208</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_ae44d0e4f80991685699647449a1d3970"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae44d0e4f80991685699647449a1d3970">alpaka::fibers::detail::AccFibers::getWorkDiv</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA DimToVecT&lt; TDim &gt; getWorkDiv() const </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00141">AccFibers.hpp:141</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_a40667445e424611a09eaebaf044f8748"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a40667445e424611a09eaebaf044f8748">alpaka::fibers::detail::AccFibers::AccFibers</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA AccFibers(TWorkDiv const &amp;workDiv)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00090">AccFibers.hpp:90</a></div></div>
<div class="ttc" id="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield_html"><div class="ttname"><a href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html">alpaka::fibers::detail::FiberPoolYield</a></div><div class="ttdoc">The type given to the ConcurrentExecPool for yielding the current fiber. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00267">AccFibers.hpp:267</a></div></div>
<div class="ttc" id="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException_html"><div class="ttname"><a href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolCurrentException.html">alpaka::fibers::detail::FiberPoolCurrentException</a></div><div class="ttdoc">The type given to the ConcurrentExecPool for returning the current exception. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00280">AccFibers.hpp:280</a></div></div>
<div class="ttc" id="host_2Mem_8hpp_html"><div class="ttname"><a href="host_2Mem_8hpp.html">Mem.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4_html_af9d361cc79a8ae8375a658411d2386dc"><div class="ttname"><a href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#af9d361cc79a8ae8375a658411d2386dc">alpaka::detail::KernelExecCreator&lt; AccFibers, TKernel, TKernelConstrArgs...&gt;::operator()</a></div><div class="ttdeci">ALPAKA_FCT_HOST AcceleratedKernelExecutorExtent operator()(TKernelConstrArgs &amp;&amp;...args) const </div><div class="ttdoc">Creates an kernel executor for the serial accelerator. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00531">AccFibers.hpp:531</a></div></div>
<div class="ttc" id="IAcc_8hpp_html"><div class="ttname"><a href="IAcc_8hpp.html">IAcc.hpp</a></div></div>
<div class="ttc" id="fibers_2Stream_8hpp_html"><div class="ttname"><a href="fibers_2Stream_8hpp.html">Stream.hpp</a></div></div>
<div class="ttc" id="fibers_2WorkDiv_8hpp_html"><div class="ttname"><a href="fibers_2WorkDiv_8hpp.html">WorkDiv.hpp</a></div></div>
<div class="ttc" id="namespacealpaka_1_1fibers_1_1detail_html_a34efaef74ae6d9e809ad04bf317e5658"><div class="ttname"><a href="namespacealpaka_1_1fibers_1_1detail.html#a34efaef74ae6d9e809ad04bf317e5658">alpaka::fibers::detail::FiberIdToIdxMap</a></div><div class="ttdeci">std::map&lt; boost::fibers::fiber::id, Vec&lt; 3u &gt;&gt; FiberIdToIdxMap</div><div class="ttdef"><b>Definition:</b> <a href="fibers_2Idx_8hpp_source.html#l00036">Idx.hpp:36</a></div></div>
<div class="ttc" id="classalpaka_1_1detail_1_1KernelExecutorExtent_html"><div class="ttname"><a href="classalpaka_1_1detail_1_1KernelExecutorExtent.html">alpaka::detail::KernelExecutorExtent</a></div><div class="ttdoc">The executor for an accelerated serial kernel. </div><div class="ttdef"><b>Definition:</b> <a href="KernelExecCreator_8hpp_source.html#l00041">KernelExecCreator.hpp:41</a></div></div>
<div class="ttc" id="classalpaka_1_1workdiv_1_1BasicWorkDiv_html"><div class="ttname"><a href="classalpaka_1_1workdiv_1_1BasicWorkDiv.html">alpaka::workdiv::BasicWorkDiv</a></div><div class="ttdoc">A basic class holding the work division as grid block extents and block thread extents. </div><div class="ttdef"><b>Definition:</b> <a href="BasicWorkDiv_8hpp_source.html#l00037">BasicWorkDiv.hpp:37</a></div></div>
<div class="ttc" id="core_2Common_8hpp_html_afd4b3f79dd504b2b49d64c9b01f098c5"><div class="ttname"><a href="core_2Common_8hpp.html#afd4b3f79dd504b2b49d64c9b01f098c5">ALPAKA_FCT_ACC_NO_CUDA</a></div><div class="ttdeci">#define ALPAKA_FCT_ACC_NO_CUDA</div><div class="ttdoc">All functions that can be used on an accelerator have to be attributed with ALPAKA_FCT_ACC_CUDA_ONLY ...</div><div class="ttdef"><b>Definition:</b> <a href="core_2Common_8hpp_source.html#l00072">Common.hpp:72</a></div></div>
<div class="ttc" id="fibers_2Atomic_8hpp_html"><div class="ttname"><a href="fibers_2Atomic_8hpp.html">Atomic.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1Vec_html"><div class="ttname"><a href="classalpaka_1_1Vec.html">alpaka::Vec&lt; 3u &gt;</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_a7caef98db8af0bbf906743d7c22b90f7"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a7caef98db8af0bbf906743d7c22b90f7">alpaka::fibers::detail::AccFibers::operator=</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA AccFibers &amp; operator=(AccFibers const &amp;)=delete</div><div class="ttdoc">Copy assignment. </div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_a1cc2a29c50f1048cc6906c6341d39722"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a1cc2a29c50f1048cc6906c6341d39722">alpaka::fibers::detail::AccFibers::getIdx</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA DimToVecT&lt; TDim &gt; getIdx() const </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00127">AccFibers.hpp:127</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="namespacealpaka_1_1dim_html_adfe56c20847b0ca61e47408cbaec071a"><div class="ttname"><a href="namespacealpaka_1_1dim.html#adfe56c20847b0ca61e47408cbaec071a">alpaka::dim::Dim1</a></div><div class="ttdeci">Dim&lt; 1u &gt; Dim1</div><div class="ttdoc">One dimension. </div><div class="ttdef"><b>Definition:</b> <a href="BasicDims_8hpp_source.html#l00042">BasicDims.hpp:42</a></div></div>
<div class="ttc" id="namespacealpaka_html_a09da965ad97ef097cff3372fe8b259c1"><div class="ttname"><a href="namespacealpaka.html#a09da965ad97ef097cff3372fe8b259c1">alpaka::AccFibers</a></div><div class="ttdeci">fibers::detail::AccFibers AccFibers</div><div class="ttdef"><b>Definition:</b> <a href="AccFibersFwd_8hpp_source.html#l00042">AccFibersFwd.hpp:42</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_a785c69bbf9b6cc1748f484b86cc6a1cc"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a785c69bbf9b6cc1748f484b86cc6a1cc">alpaka::fibers::detail::AccFibers::getBlockSharedExternMem</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA T * getBlockSharedExternMem() const </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00233">AccFibers.hpp:233</a></div></div>
<div class="ttc" id="structalpaka_1_1traits_1_1acc_1_1AccType_html"><div class="ttname"><a href="structalpaka_1_1traits_1_1acc_1_1AccType.html">alpaka::traits::acc::AccType</a></div><div class="ttdoc">The accelerator type trait. </div><div class="ttdef"><b>Definition:</b> <a href="Acc_8hpp_source.html#l00045">Acc.hpp:45</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_a5532c3510819ff0c4a2d7de6dd46d5bd"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#a5532c3510819ff0c4a2d7de6dd46d5bd">alpaka::fibers::detail::KernelExecutorFibers::operator=</a></div><div class="ttdeci">ALPAKA_FCT_HOST KernelExecutorFibers &amp; operator=(KernelExecutorFibers const &amp;)=delete</div><div class="ttdoc">Copy assignment. </div></div>
<div class="ttc" id="classalpaka_1_1detail_1_1KernelExecCreator_html"><div class="ttname"><a href="classalpaka_1_1detail_1_1KernelExecCreator.html">alpaka::detail::KernelExecCreator</a></div><div class="ttdoc">The kernel executor builder. </div><div class="ttdef"><b>Definition:</b> <a href="KernelExecCreator_8hpp_source.html#l00152">KernelExecCreator.hpp:152</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_ae6c40b6a85d7ec93a3a85849a17e4096"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#ae6c40b6a85d7ec93a3a85849a17e4096">alpaka::fibers::detail::AccFibers::atomicOp</a></div><div class="ttdeci">ALPAKA_FCT_ACC T atomicOp(T *const addr, T const &amp;value) const </div><div class="ttdoc">Execute the atomic operation on the given address with the given value. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00154">AccFibers.hpp:154</a></div></div>
<div class="ttc" id="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4_html_a20f03fbdc29e6da85426601c42c60c03"><div class="ttname"><a href="classalpaka_1_1detail_1_1KernelExecCreator_3_01AccFibers_00_01TKernel_00_01TKernelConstrArgs_8_8_8_4.html#a20f03fbdc29e6da85426601c42c60c03">alpaka::detail::KernelExecCreator&lt; AccFibers, TKernel, TKernelConstrArgs...&gt;::AcceleratedKernel</a></div><div class="ttdeci">typename boost::mpl::apply&lt; TKernel, AccFibers &gt;::type AcceleratedKernel</div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00525">AccFibers.hpp:525</a></div></div>
<div class="ttc" id="ConcurrentExecPool_8hpp_html"><div class="ttname"><a href="ConcurrentExecPool_8hpp.html">ConcurrentExecPool.hpp</a></div></div>
<div class="ttc" id="KernelExecCreator_8hpp_html"><div class="ttname"><a href="KernelExecCreator_8hpp.html">KernelExecCreator.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html">alpaka::fibers::detail::KernelExecutorFibers</a></div><div class="ttdoc">The fibers accelerator executor. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00061">AccFibers.hpp:61</a></div></div>
<div class="ttc" id="namespacealpaka_html_aff48a11ea7d01a9b5b6b06f7c20285f5"><div class="ttname"><a href="namespacealpaka.html#aff48a11ea7d01a9b5b6b06f7c20285f5">alpaka::UInt</a></div><div class="ttdeci">std::uint32_t UInt</div><div class="ttdoc">Defines the default index type. </div><div class="ttdef"><b>Definition:</b> <a href="core_2Common_8hpp_source.html#l00091">Common.hpp:91</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_a686558d8b6214502045c68e0649fc4a4"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#a686558d8b6214502045c68e0649fc4a4">alpaka::fibers::detail::AccFibers::syncBlockThreads</a></div><div class="ttdeci">ALPAKA_FCT_ACC_NO_CUDA void syncBlockThreads() const </div><div class="ttdoc">Syncs all threads in the current block. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00167">AccFibers.hpp:167</a></div></div>
<div class="ttc" id="fibers_2Idx_8hpp_html"><div class="ttname"><a href="fibers_2Idx_8hpp.html">Idx.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html_aee370e3ea05acdfb76dc3bfc71ab2e6b"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html#aee370e3ea05acdfb76dc3bfc71ab2e6b">alpaka::fibers::detail::AccFibers::~AccFibers</a></div><div class="ttdeci">virtual ALPAKA_FCT_ACC_NO_CUDA ~AccFibers() noexcept=default</div><div class="ttdoc">Destructor. </div></div>
<div class="ttc" id="namespacealpaka_html"><div class="ttname"><a href="namespacealpaka.html">alpaka</a></div><div class="ttdoc">The alpaka library. </div><div class="ttdef"><b>Definition:</b> <a href="BasicDims_8hpp_source.html#l00028">BasicDims.hpp:28</a></div></div>
<div class="ttc" id="fibers_2Common_8hpp_html"><div class="ttname"><a href="fibers_2Common_8hpp.html">Common.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1IdxFibers_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1IdxFibers.html">alpaka::fibers::detail::IdxFibers</a></div><div class="ttdoc">This fibers accelerator index provider. </div><div class="ttdef"><b>Definition:</b> <a href="fibers_2Idx_8hpp_source.html#l00040">Idx.hpp:40</a></div></div>
<div class="ttc" id="fibers_2Event_8hpp_html"><div class="ttname"><a href="fibers_2Event_8hpp.html">Event.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AccFibers_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AccFibers.html">alpaka::fibers::detail::AccFibers</a></div><div class="ttdoc">The fibers accelerator. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00071">AccFibers.hpp:71</a></div></div>
<div class="ttc" id="namespacealpaka_html_a6d800c7a55753e7a74482d8c3c7c2afc"><div class="ttname"><a href="namespacealpaka.html#a6d800c7a55753e7a74482d8c3c7c2afc">alpaka::DimToVecT</a></div><div class="ttdeci">typename detail::DimToVec&lt; TDim &gt;::type DimToVecT</div><div class="ttdoc">The dimension to vector type alias template to remove the ::type. </div><div class="ttdef"><b>Definition:</b> <a href="Vec_8hpp_source.html#l00407">Vec.hpp:407</a></div></div>
<div class="ttc" id="core_2Common_8hpp_html_a0a2517d207990fa333bdfcd804895ee7"><div class="ttname"><a href="core_2Common_8hpp.html#a0a2517d207990fa333bdfcd804895ee7">ALPAKA_FCT_HOST</a></div><div class="ttdeci">#define ALPAKA_FCT_HOST</div><div class="ttdef"><b>Definition:</b> <a href="core_2Common_8hpp_source.html#l00075">Common.hpp:75</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_abbbe1b067d0882dd3eb9865a9be2a94d"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#abbbe1b067d0882dd3eb9865a9be2a94d">alpaka::fibers::detail::KernelExecutorFibers::~KernelExecutorFibers</a></div><div class="ttdeci">virtual ALPAKA_FCT_HOST ~KernelExecutorFibers() noexcept=default</div><div class="ttdoc">Destructor. </div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_acbb168d000d902ee5a6f8d6740b0a67a"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acbb168d000d902ee5a6f8d6740b0a67a">alpaka::fibers::detail::KernelExecutorFibers::KernelExecutorFibers</a></div><div class="ttdeci">ALPAKA_FCT_HOST KernelExecutorFibers(TWorkDiv const &amp;workDiv, StreamFibers const &amp;, TKernelConstrArgs &amp;&amp;...args)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00308">AccFibers.hpp:308</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_ab899fb7f3073ab6ebff74ed427bcf5c8"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#ab899fb7f3073ab6ebff74ed427bcf5c8">alpaka::fibers::detail::KernelExecutorFibers::KernelExecutorFibers</a></div><div class="ttdeci">ALPAKA_FCT_HOST KernelExecutorFibers(KernelExecutorFibers const &amp;other)</div><div class="ttdoc">Copy constructor. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00321">AccFibers.hpp:321</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_acb9e139699855d4077851dd2fc659ebc"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#acb9e139699855d4077851dd2fc659ebc">alpaka::fibers::detail::KernelExecutorFibers::KernelExecutorFibers</a></div><div class="ttdeci">ALPAKA_FCT_HOST KernelExecutorFibers(KernelExecutorFibers &amp;&amp;other)</div><div class="ttdoc">Move constructor. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00333">AccFibers.hpp:333</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1FiberBarrier_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1FiberBarrier.html">alpaka::fibers::detail::FiberBarrier</a></div><div class="ttdoc">A barrier. </div><div class="ttdef"><b>Definition:</b> <a href="fibers_2Barrier_8hpp_source.html#l00038">Barrier.hpp:38</a></div></div>
<div class="ttc" id="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield_html_a5b02d7aee4b9038dea37e15dcd785afc"><div class="ttname"><a href="structalpaka_1_1fibers_1_1detail_1_1FiberPoolYield.html#a5b02d7aee4b9038dea37e15dcd785afc">alpaka::fibers::detail::FiberPoolYield::yield</a></div><div class="ttdeci">static ALPAKA_FCT_ACC_NO_CUDA void yield()</div><div class="ttdoc">Yields the current fiber. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00272">AccFibers.hpp:272</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers_html_a5504613e33df6a9e1b0b6070c1775aed"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1KernelExecutorFibers.html#a5504613e33df6a9e1b0b6070c1775aed">alpaka::fibers::detail::KernelExecutorFibers::operator()</a></div><div class="ttdeci">ALPAKA_FCT_HOST void operator()(TArgs &amp;&amp;...args) const </div><div class="ttdoc">Executes the accelerated kernel. </div><div class="ttdef"><b>Definition:</b> <a href="AccFibers_8hpp_source.html#l00359">AccFibers.hpp:359</a></div></div>
<div class="ttc" id="structalpaka_1_1BlockSharedExternMemSizeBytes_html"><div class="ttname"><a href="structalpaka_1_1BlockSharedExternMemSizeBytes.html">alpaka::BlockSharedExternMemSizeBytes</a></div><div class="ttdoc">The trait for getting the size of the block shared extern memory of a kernel. </div><div class="ttdef"><b>Definition:</b> <a href="BlockSharedExternMemSizeBytes_8hpp_source.html#l00041">BlockSharedExternMemSizeBytes.hpp:41</a></div></div>
<div class="ttc" id="AccFibersFwd_8hpp_html"><div class="ttname"><a href="AccFibersFwd_8hpp.html">AccFibersFwd.hpp</a></div></div>
<div class="ttc" id="WorkDivHelpers_8hpp_html"><div class="ttname"><a href="WorkDivHelpers_8hpp.html">WorkDivHelpers.hpp</a></div></div>
<div class="ttc" id="BlockSharedExternMemSizeBytes_8hpp_html"><div class="ttname"><a href="BlockSharedExternMemSizeBytes_8hpp.html">BlockSharedExternMemSizeBytes.hpp</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1StreamFibers_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1StreamFibers.html">alpaka::fibers::detail::StreamFibers</a></div><div class="ttdoc">The fibers accelerator stream. </div><div class="ttdef"><b>Definition:</b> <a href="fibers_2Stream_8hpp_source.html#l00037">Stream.hpp:37</a></div></div>
<div class="ttc" id="core_2Common_8hpp_html_a5f7933db4117e5cf67c10b559b645656"><div class="ttname"><a href="core_2Common_8hpp.html#a5f7933db4117e5cf67c10b559b645656">ALPAKA_FCT_ACC</a></div><div class="ttdeci">#define ALPAKA_FCT_ACC</div><div class="ttdef"><b>Definition:</b> <a href="core_2Common_8hpp_source.html#l00073">Common.hpp:73</a></div></div>
<div class="ttc" id="classalpaka_1_1fibers_1_1detail_1_1AtomicFibers_html"><div class="ttname"><a href="classalpaka_1_1fibers_1_1detail_1_1AtomicFibers.html">alpaka::fibers::detail::AtomicFibers</a></div><div class="ttdoc">The fibers accelerator atomic ops. </div><div class="ttdef"><b>Definition:</b> <a href="fibers_2Atomic_8hpp_source.html#l00035">Atomic.hpp:35</a></div></div>
<div class="ttc" id="classalpaka_1_1IAcc_html"><div class="ttname"><a href="classalpaka_1_1IAcc.html">alpaka::IAcc</a></div><div class="ttdoc">The accelerator interface. </div><div class="ttdef"><b>Definition:</b> <a href="IAcc_8hpp_source.html#l00043">IAcc.hpp:43</a></div></div>
<div class="ttc" id="namespacealpaka_1_1dim_html_a34c4249188d81e31aff3e6bb8f1238bd"><div class="ttname"><a href="namespacealpaka_1_1dim.html#a34c4249188d81e31aff3e6bb8f1238bd">alpaka::dim::Dim3</a></div><div class="ttdeci">Dim&lt; 3u &gt; Dim3</div><div class="ttdoc">Three dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="BasicDims_8hpp_source.html#l00050">BasicDims.hpp:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_f712bff28b6ff1ff870a222047d04675.html">alpaka</a></li><li class="navelem"><a class="el" href="dir_9e9814dacd71148f17b9f7bf582ec84b.html">fibers</a></li><li class="navelem"><a class="el" href="AccFibers_8hpp.html">AccFibers.hpp</a></li>
    <li class="footer">Generated on Fri Mar 6 2015 23:52:33 for alpaka by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9 </li>
  </ul>
</div>
</body>
</html>
